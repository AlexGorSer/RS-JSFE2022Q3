(()=>{"use strict";var t,n,e,a,r={981:(t,n,e)=>{e.d(n,{J3:()=>m,P8:()=>h,YH:()=>s,aI:()=>w,fP:()=>d,ix:()=>p,mW:()=>u,or:()=>b,qC:()=>c,tD:()=>l,zY:()=>y});const a="http://127.0.0.1:3000",r="/garage",o="/engine",i="/winners",s=async(t,n=7)=>{const e=await fetch(`${a}${r}?_page=${t}&_limit=${n}`);return{items:await e.json(),carsCount:e.headers.get("X-Total-Count")}},c=async t=>{await fetch(`${a}${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},l=async t=>{200===(await fetch(`${a}${r}/${t}`,{method:"DELETE"})).status?console.log("Car DELETED"):console.error(new Error("Fast click"))},d=async(t,n)=>{await fetch(`${a}${r}/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})},u=async(t,n)=>(await fetch(`${a}${o}?id=${t}&status=${n}`,{method:"PATCH"})).json(),m=async t=>{const n=await fetch(`${a}${o}?id=${t}&status=drive`,{method:"PATCH"});return 200!==n.status?{success:!1}:{...await n.json()}},p=async(t,n=10,e="null",r="null")=>{const o=await fetch(`${a}${i}?_page=${t}&_limit=${n}&_sort=${e}&_order=${r}`);return{items:await o.json(),winnersCount:o.headers.get("X-Total-Count")}},h=async t=>{await fetch(`${a}${i}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},w=async(t,n)=>{await fetch(`${a}${i}/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},y=async t=>{await fetch(`${a}${i}/${t}`,{method:"DELETE"})},b=async()=>{const t=await fetch(`${a}${r}`);return{item:await t.json()}}},543:(t,n,e)=>{e.a(t,(async(t,a)=>{try{e.d(n,{Z:()=>l});var r=e(981);const{items:t,carsCount:o}=await(0,r.YH)(1),{items:i,winnersCount:s}=await(0,r.ix)(1),{item:c}=await(0,r.or)(),l={carsPage:1,cars:t,carsCount:o,selectCar:{id:0,name:"",color:""},animationStorageID:{},winners:i,winnersCount:s,winnersPages:1,allCars:c,sortby:"id",order:"ASC"};a()}catch(t){a(t)}}),1)},458:(t,n,e)=>{e.d(n,{c:()=>a,o:()=>r});const a=()=>'<div class="cars_cards-buttons">\n  <h2>Create new Car</h2>\n  <form action="" class="car-post-container">\n    <input type="text" name="" id="text" placeholder="Car name">\n    <input type="color" name="car-color-post" id="color">\n    <label for="car-color-post">Color</label>\n    <input type="submit" value="submit">\n  </form>\n  <h2>Change selected car</h2>\n  <form action="" class="car-put-container">\n    <input type="text" name="" id="text" placeholder="Car name">\n    <input type="color" name="car-color-patch" id="color">\n    <label for="car-color-patch">Color</label>\n    <input type="submit" value="submit">\n  </form>\n</div>',r=async(t,n)=>`<div class="modal-car-winner-container">\n<p class="car-winner">\n  ${t.name} is win! ${n.time} seconds\n</p>\n</div>`},757:(t,n,e)=>{e.d(n,{f:()=>a});const a={root:document.createElement("div"),className:"cars-container"}},59:(t,n,e)=>{e.d(n,{j:()=>r,w:()=>a});const a=(t,n)=>`<svg version="1.0" xmlns="http://www.w3.org/2000/svg" \n  width="100" height="100" viewBox="0 0 1280.000000 640.000000"\n  preserveAspectRatio="xMidYMid meet" class="car-${n}">\n <metadata>\n Created by potrace 1.15, written by Peter Selinger 2001-2017\n </metadata>\n <g transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)"\n fill="${t}" stroke="none" >\n <path d="M3565 5336 c-106 -30 -101 -26 -108 -111 -4 -42 -9 -80 -12 -85 -6\n -10 -246 -105 -590 -234 -448 -167 -1052 -415 -1173 -483 -78 -43 -193 -91\n -250 -104 -23 -5 -98 -14 -165 -19 -67 -6 -167 -19 -222 -30 -154 -31 -340\n -49 -563 -57 l-203 -6 -43 -66 c-59 -91 -60 -95 -26 -130 37 -37 38 -65 3\n -150 -25 -62 -27 -78 -31 -256 l-4 -190 -38 -32 c-91 -78 -133 -209 -134 -418\n 0 -194 11 -396 26 -482 13 -71 14 -74 72 -122 69 -58 130 -129 158 -184 64\n -126 534 -211 1384 -250 l92 -4 -6 119 c-6 142 8 256 49 383 112 352 394 622\n 756 722 90 26 112 28 278 28 165 0 188 -2 278 -27 201 -56 361 -152 504 -302\n 140 -145 222 -293 274 -492 21 -79 24 -109 23 -279 -1 -127 -6 -214 -16 -263\n l-15 -73 3006 7 c1653 4 3007 8 3009 9 1 1 -8 37 -20 81 -19 67 -22 105 -22\n 259 -1 166 1 187 27 279 117 421 467 736 885 797 119 17 325 7 432 -21 239\n -63 453 -205 601 -399 70 -92 154 -267 185 -386 24 -88 27 -119 27 -260 1\n -116 -4 -181 -16 -234 -10 -41 -16 -75 -15 -76 2 -1 62 2 133 6 266 16 458 45\n 525 79 48 24 97 81 127 146 l24 52 -16 157 c-15 152 -15 163 4 284 63 388 50\n 680 -35 802 -134 193 -526 336 -1429 519 -737 149 -1322 209 -2033 210 -228 0\n -226 0 -347 85 -187 131 -1045 607 -1471 815 -383 187 -788 281 -1439 332\n -208 17 -1106 16 -1400 0 -121 -7 -314 -19 -430 -27 -302 -22 -286 -22 -341\n 10 -140 81 -187 94 -269 71z m1885 -333 c6 -37 38 -238 71 -446 32 -209 66\n -422 75 -474 9 -52 15 -96 13 -97 -11 -9 -1699 29 -1951 44 -206 13 -417 36\n -485 54 -98 26 -198 119 -249 231 -35 75 -36 172 -5 255 17 45 30 61 68 86 83\n 54 135 80 253 127 341 136 858 230 1460 267 269 16 270 16 511 18 l227 2 12\n -67z m630 47 c264 -18 777 -110 1029 -186 186 -56 445 -188 756 -387 211 -134\n 274 -181 250 -185 -75 -12 -133 -50 -162 -106 -19 -35 -21 -136 -4 -179 l11\n -27 -907 2 -906 3 -59 160 c-110 302 -298 878 -298 916 0 6 95 2 290 -11z"/>\n <path d="M2633 3125 c-223 -40 -410 -141 -568 -306 -132 -138 -213 -283 -262\n -467 -22 -83 -26 -119 -26 -247 -1 -169 10 -236 65 -382 87 -230 271 -436 493\n -551 85 -44 178 -78 271 -98 107 -23 312 -23 419 1 392 84 699 375 802 761 23\n 86 26 120 27 254 1 158 -5 199 -46 330 -98 310 -355 567 -668 669 -150 50\n -354 64 -507 36z m350 -301 c249 -56 457 -247 543 -499 25 -72 28 -95 28 -220\n 1 -153 -15 -228 -74 -345 -94 -186 -283 -337 -485 -386 -96 -24 -268 -24 -360\n 0 -320 84 -544 355 -562 681 -20 359 209 673 558 765 94 24 253 26 352 4z"/>\n <path d="M2600 2697 c-36 -13 -85 -36 -109 -51 l-44 -28 116 -115 c81 -82 120\n -114 131 -110 14 6 16 29 16 167 0 186 6 178 -110 137z"/>\n <path d="M2920 2561 c0 -139 2 -162 16 -168 11 -4 50 28 130 108 l115 114 -28\n 22 c-34 28 -138 70 -193 79 l-40 7 0 -162z"/>\n <path d="M2282 2448 c-28 -36 -92 -191 -92 -225 0 -10 34 -13 165 -13 151 0\n 165 1 165 18 0 15 -206 232 -221 232 -4 0 -11 -6 -17 -12z"/>\n <path d="M3222 2351 c-62 -59 -112 -115 -112 -124 0 -15 17 -17 165 -17 131 0\n 165 3 165 13 0 40 -69 205 -95 227 -7 6 -48 -27 -123 -99z"/>\n <path d="M2781 2332 c-12 -22 11 -62 34 -62 8 0 21 10 29 22 20 28 4 58 -29\n 58 -13 0 -29 -8 -34 -18z"/>\n <path d="M2749 2161 c-32 -33 -37 -67 -14 -110 29 -57 104 -64 151 -14 53 57\n 9 153 -71 153 -27 0 -44 -8 -66 -29z"/>\n <path d="M2570 2125 c-26 -32 13 -81 48 -59 24 16 27 45 6 61 -23 17 -39 16\n -54 -2z"/>\n <path d="M3006 2124 c-20 -19 -20 -38 -2 -54 23 -19 61 -8 64 18 7 44 -32 67\n -62 36z"/>\n <path d="M2190 1975 c0 -29 41 -140 72 -194 l31 -53 117 117 c71 71 116 123\n 113 131 -4 11 -40 14 -169 14 -141 0 -164 -2 -164 -15z"/>\n <path d="M3110 1972 c0 -9 51 -68 114 -131 l114 -114 31 54 c30 51 71 165 71\n 195 0 11 -31 14 -165 14 -151 0 -165 -1 -165 -18z"/>\n <path d="M2780 1901 c-7 -15 -5 -24 8 -41 32 -40 85 -4 62 41 -14 25 -56 25\n -70 0z"/>\n <path d="M2562 1697 c-61 -62 -112 -115 -112 -119 0 -18 208 -108 249 -108 7\n 0 11 54 11 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115 -113z"/>\n <path d="M2933 1803 c-15 -6 -19 -333 -4 -333 46 0 251 88 251 108 0 9 -223\n 232 -230 231 -3 0 -11 -3 -17 -6z"/>\n <path d="M10700 3119 c-390 -84 -696 -376 -797 -759 -31 -117 -41 -292 -24\n -411 33 -227 150 -453 318 -609 267 -250 643 -344 993 -249 117 32 283 118\n 380 196 487 396 518 1128 67 1560 -97 93 -166 140 -290 198 -137 64 -235 86\n -407 91 -120 3 -162 0 -240 -17z m445 -313 c238 -81 409 -258 486 -506 30 -96\n 33 -289 5 -388 -110 -400 -513 -637 -911 -536 -149 38 -313 147 -402 267 -176\n 238 -203 533 -71 797 34 69 60 103 138 180 77 78 111 104 181 139 129 65 207\n 81 364 77 109 -3 143 -7 210 -30z"/>\n <path d="M10703 2700 c-54 -19 -153 -71 -153 -80 0 -3 51 -57 114 -119 80 -80\n 119 -112 130 -108 14 5 16 29 16 167 l0 160 -27 -1 c-16 0 -52 -9 -80 -19z"/>\n <path d="M11020 2561 c0 -139 2 -162 16 -168 22 -8 247 216 234 232 -17 20\n -163 84 -207 91 l-43 7 0 -162z"/>\n <path d="M10366 2424 c-29 -44 -76 -165 -76 -194 0 -19 7 -20 165 -20 126 0\n 165 3 165 13 0 7 -51 63 -114 126 l-114 114 -26 -39z"/>\n <path d="M11313 2348 c-61 -62 -109 -119 -106 -125 6 -15 333 -19 333 -4 0 45\n -88 241 -108 241 -4 0 -57 -51 -119 -112z"/>\n <path d="M10882 2338 c-17 -17 -15 -32 7 -52 16 -14 23 -15 41 -6 31 17 24 64\n -10 68 -14 2 -31 -3 -38 -10z"/>\n <path d="M10846 2159 c-68 -81 17 -194 110 -144 89 48 56 175 -46 175 -30 0\n -44 -6 -64 -31z"/>\n <path d="M10670 2126 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20\n -54 2z"/>\n <path d="M11106 2127 c-21 -16 -18 -45 7 -61 37 -23 77 35 41 61 -10 7 -21 13\n -24 13 -3 0 -14 -6 -24 -13z"/>\n <path d="M10290 1970 c0 -29 43 -141 74 -195 l28 -48 116 116 c81 81 113 120\n 109 131 -6 14 -29 16 -167 16 -152 0 -160 -1 -160 -20z"/>\n <path d="M11207 1978 c-3 -7 47 -66 111 -130 l116 -118 27 43 c27 44 79 177\n 79 203 0 12 -28 14 -164 14 -122 0 -166 -3 -169 -12z"/>\n <path d="M10881 1901 c-14 -25 -5 -48 20 -56 27 -9 51 13 47 44 -4 34 -51 43\n -67 12z"/>\n <path d="M10662 1697 c-61 -62 -112 -115 -112 -119 0 -20 201 -108 247 -108\n 10 0 13 34 13 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115\n -113z"/>\n <path d="M11033 1803 c-10 -3 -13 -47 -13 -169 0 -90 4 -164 8 -164 36 0 186\n 61 239 98 16 10 -216 242 -234 235z"/>\n </g>\n </svg>\n `,r=()=>`#${Math.floor(16777215*Math.random()).toString(16)}`},85:(t,n,e)=>{e.d(n,{JF:()=>r,Ws:()=>i,hD:()=>a,tr:()=>o});const a=(t,n,e)=>`<div class="car-card" id="${e}">\n<div class="buttons-car">\n  <h2 class="cars-card-name">${t}</h2>\n  <button class="cars-card-select" id="${e}">select</button>\n  <button class="cars-card-remove" id="${e}">remove</button>\n  <button class="cars-card-start  id-${e}" id="${e}">start</button>\n  <button class="cars-card-stope  id-${e}" id="${e}" disabled>stope</button>\n</div>\n<div class="svg-car-container">\n${n}\n<div class="finish finish-${e}"><?xml version="1.0" encoding="iso-8859-1"?>\n<svg height="100px" width="100px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" \n\t viewBox="0 0 20.695 20.695" xml:space="preserve" style="transform: rotate(31deg)" >\n\t<path style="fill:#030104;" d="M10.099,3.996l0.898,1.453L9.372,6.64L8.447,5.144L7.141,5.952L6.332,4.645L7.64,3.836l0.809,1.306\n\t\tL10.099,3.996z M10.181,7.946L9.374,6.64L8.066,7.448l0.807,1.306L10.181,7.946z M17.667,5.115l-0.144,0.312\n\t\tc-0.26,1.43-1.146,2.388-1.805,2.795c-1.426,0.881-2.903,0.353-2.964,0.331c-0.958-0.203-1.814-0.087-2.52,0.35\n\t\tC8.926,9.712,8.553,11.37,8.55,11.389l-0.087,0.407l5.182,8.378l-0.839,0.521L3.577,5.775C3.4,5.845,3.193,5.787,3.089,5.619\n\t\tC2.971,5.428,3.03,5.18,3.22,5.062l0.694-0.428C4.102,4.516,4.352,4.575,4.47,4.766C4.568,4.925,4.537,5.12,4.414,5.251\n\t\tl0.249,0.404l0.006-0.013C5.211,4.327,5.901,3.404,6.719,2.9c1.484-0.917,2.84-0.154,2.897-0.121\n\t\tc1.16,0.676,1.986,0.458,2.474,0.156c0.209-0.13,0.319-0.256,0.319-0.256c1.146-1.005,1.607-2.143,1.81-2.559\n\t\tc0.202-0.415,0.563,0.383,0.563,0.383L17.667,5.115z M14.049,1.209l0.209,0.338l0.513-0.4l-0.41-0.662\n\t\tC14.277,0.652,14.201,0.956,14.049,1.209z M8.442,10.6l-0.235,0.146l0.111,0.177C8.35,10.83,8.393,10.717,8.442,10.6z\n\t\t M12.691,8.188l-0.18-0.291l-0.176,0.238C12.452,8.148,12.572,8.164,12.691,8.188z M13.958,7.312L13.251,6.17l1.433-1.01\n\t\tl-0.809-1.306l-1.431,1.012l-0.839-1.355c-0.168,0.04-0.356,0.064-0.563,0.062L10.1,3.997L9.582,3.163\n\t\tC9.534,3.136,9.487,3.112,9.438,3.084C9.422,3.075,9.297,3.005,9.092,2.937L7.639,3.836L7.158,3.061\n\t\tC7.075,3.1,6.99,3.147,6.904,3.2C6.569,3.407,6.259,3.697,5.97,4.06l0.361,0.586L5.184,5.354C5.132,5.465,5.081,5.575,5.031,5.693\n\t\tl0.707,1.126L7.14,5.952l0.926,1.495L6.675,8.308l0.817,1.3l1.381-0.854l0.351,0.565c0.227-0.264,0.497-0.514,0.825-0.718\n\t\tc0.132-0.08,0.269-0.147,0.408-0.21l-0.276-0.446l1.632-1.176l-0.816-1.32l1.445-0.583l0.807,1.305l-1.435,0.598l0.669,1.081\n\t\tL13.958,7.312z M17.147,4.951l-0.021-0.034l-0.502,0.456l-0.698-1.126l0.526-0.409l-0.871-1.394L15.117,2.94l-0.858-1.39\n\t\tl-0.757,0.468c-0.133,0.176-0.281,0.349-0.438,0.519l0.812,1.315l1.243-0.913l0.807,1.308l-1.241,0.912l0.707,1.142l-1.396,1.072\n\t\tl0.576,0.93c0.312-0.065,0.639-0.182,0.961-0.381c0.205-0.127,0.397-0.282,0.576-0.461l-0.717-1.159l1.232-0.929l0.41,0.663\n\t\tL17.147,4.951z"/>\n</g>\n</svg></dib>\n</div>\n</div>`,r=()=>'\n<div class="buttons-pages">\n<button class="prev"><=</button>\n<button class="next">=></button>\n</div>',o=["Автокам","Бронто","ГАЗ","ЗАЗ","ЗИЛ","ЗиС","ИЖ","Канонир","Комбат","ЛуАЗ","Москвич","СМ","ТагАЗ","УАЗ","Эксклюзив","AC","Acura","Adler","Alfa Romeo","Alpina","Alpine","AM General","AMC","Ariel","Aro","Asia","Aston Martin","Audi","Austin","Autobianchi","Bajaj","Baltijas","Dzips","Batmobile","Beijing","Bentley","Bertone","Bilenkin","Bitter","BMW","Borgward","Brabus","Bricklin","Brilliance","Bristol","Bufori","Bugatti","Buick","BYD","Byvin","Cadillac","Callaway","Carbodies","Caterham","Changan","ChangFeng","Chery","Chevrolet","Chrysler","Citroen","Cizeta","Coggiola","Dacia","Dadi","Daewoo2","Daihatsu","Daimler","Datsun","De Tomaso","Delage","DeLorean","Derways","DeSoto","Dodge","DongFeng","Doninvest","Donkervoort","DS","E-Car","Eagle","Eagle Cars","Ecomotors","Excalibur","FAW","Ferrari","Fiat","Fisker","Ford","Foton","FSO","Fuqi","Geely","Genesis","Geo","GMC","Gonow","Gordon","Great Wall","Hafei","Haima","Hanomag","Haval","Hawtai","Hindustan","Hispano-Suiza","Holden","Honda","HuangHai","Hudson","Hummer","Hyundai","Infiniti","Innocenti","Invicta","Iran Khodro","Isdera","Isuzu","JAC","Jaguar","Jeep","Jensen","JMC","Kia","Koenigsegg","KTM AG"," LADA (ВАЗ)","Lamborghini","Lancia","Land Rover","Landwind","Lexus","Liebao Motor","Lifan","Lincoln","Lotus","LTI","Luxgen","Mahindra","Marcos","Marlin","Marussia","Maruti","Maserati","Maybach","Mazda","McLare1","Mega","Mercedes-Benz","Mercury","Metrocab","MG","Microcar","Minelli","MINI","Mitsubishi","Mitsuoka","Morgan","Morris","Nissan","Noble","Oldsmobile","Opel","Osca","Packard","Pagani","Panoz","Perodua","Peugeot","PGO","Piaggio","Plymouth","Pontiac","Porsche","Premier","Proton","PUCH","Puma","Qoros","Qvale","Ravon","Reliant","Renaissance","Renault","Renault Samsung","Rezvani","Rimac","Rolls-Royce","Ronart","Rover","Saab","Saleen","Santana","Saturn","Scion","SEAT","Shanghai Maple","ShuangHuan","Skoda","Smart","Soueast","Spectre","Spyker","SsangYong","Steyr","Subaru","Suzuki","Talbot","TATA","Tatra","Tazzari","Tesla","Think","Tianma","Tianye","Tofas","Toyota","Trabant","Tramontana","Triumph","TVR","Ultima","Vauxhall","Vector","Venturi","Volkswagen","Volvo","Vortex","W Motors","Wanderer","Wartburg","Westfield","Wiesmann","Willys","Xin Kai","Zastava","Zenos","Zenvo","Zibar","Zotye","ZX"],i=["Elantra","Fusion","Jetta","100","80","Civic","M5","90","A3","Juke","Cayenne","A4","G63","Camry","Granta","Vesta","Rio","Creta","Niva","Solaris","Largus","Duster"]},860:(t,n,e)=>{e.a(t,(async(t,a)=>{try{e.d(n,{$P:()=>L,D7:()=>y,K5:()=>Z,Mh:()=>$,OP:()=>S,UQ:()=>w,r_:()=>C,uv:()=>g,zy:()=>h});var r=e(981),o=e(543),i=e(85),s=e(59),c=e(458),l=e(757),d=e(607),u=e(796),m=t([o,d,u]);[o,d,u]=m.then?(await m)():m;const p=(t,n=0)=>(n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n),h=async()=>{l.f.root.innerHTML="";const t=document.createElement("h2");l.f.root.appendChild(t),t.innerText=`\n  Cars Garage: ${o.Z.carsCount} \n  ________________________________\n\n  Page: ${o.Z.carsPage}`,l.f.root.insertAdjacentHTML("beforeend",(0,i.JF)()),o.Z.cars.map((async t=>l.f.root.insertAdjacentHTML("beforeend",`${(0,i.hD)(t.name,(0,s.w)(t.color,t.id),t.id)}`)))},w=async t=>{const n=+o.Z.carsCount/7;t.classList.contains("next")&&n>o.Z.carsPage&&(o.Z.carsPage++,await(0,r.YH)(o.Z.carsPage),await b(),await h()),t.classList.contains("prev")&&1<o.Z.carsPage&&(o.Z.carsPage--,await(0,r.YH)(o.Z.carsPage),await b(),await h())},y=async t=>{const n=t.target;if(n.classList.contains("cars-card-remove")&&(await(0,r.tD)(+n.id),await(0,r.zY)(n.id),await b(),l.f.root.innerHTML="",h()),n.classList.contains("cars-card-select")){const t=o.Z.cars.filter((t=>t.id===+n.id));o.Z.selectCar=t[0];const e=document.querySelector(".car-put-container");e.text.value=o.Z.selectCar.name,e.color.value=o.Z.selectCar.color}n.classList.contains("cars-card-start")&&f(n.id),n.classList.contains("cars-card-stope")&&(document.querySelector(`.cars-card-stope.id-${n.id}`).disabled=!0,await(0,r.mW)(n.id,"stopped"),S(n.id))},b=async()=>{const{items:t,carsCount:n}=await(0,r.YH)(o.Z.carsPage);o.Z.cars=t,o.Z.carsCount=n,o.Z.selectCar.id=0,o.Z.selectCar.name="",o.Z.selectCar.color=""},g=async t=>{t.preventDefault();const n=t.target;if(""!==n.text.value){const t={name:n.text.value,color:n.color.value};await(0,r.qC)(t),await b(),await h()}n.text.value="",n.color.value="#000000"},C=async t=>{t.preventDefault();const n=t.target;if(""!==n.text.value){const t={name:n.text.value,color:n.color.value};0!==o.Z.selectCar.id&&(await(0,r.fP)(o.Z.selectCar.id,t),await b(),await h())}n.text.value="",n.color.value="#000000"},v=(t,n,e)=>{const a=t;let r=null;const o={id:1},i=t=>{r||(r=t);const s=t-r,c=Math.round(s*(n/e));a.style.translate=`${Math.min(c,n)}px`,c<n&&(o.id=window.requestAnimationFrame(i))};return o.id=window.requestAnimationFrame(i),o},M=(t,n)=>{const e=t.getBoundingClientRect().x+t.getBoundingClientRect().width/2-100;return n.getBoundingClientRect().x+n.getBoundingClientRect().width/2-e},f=async t=>{const{velocity:n,distance:e}=await(0,r.mW)(t,"started"),a=document.querySelector(`.cars-card-start.id-${t}`),i=document.querySelector(`.cars-card-stope.id-${t}`);a.disabled=!0,i.disabled=!1;const s=Math.round(e/n),c=document.querySelector(`.car-${t}`),l=document.querySelector(`.finish-${t}`),d=M(c,l);o.Z.animationStorageID[+t]=v(c,d,s);const{success:u}=await(0,r.J3)(t);if(!u)throw window.cancelAnimationFrame(o.Z.animationStorageID[+t].id),new Error("car is stope");return{id:t,time:s}},Z=async()=>{const t=Promise.any(o.Z.cars.map((async t=>f(t.id.toString())))),n={id:0,time:0,wins:1};await t.then((t=>{n.id=+t.id,n.time=+(t.time/1e3).toFixed(2)}));const e=o.Z.cars.filter((t=>t.id===+n.id)),a=o.Z.winners.filter((t=>t.id===o.Z.cars.find((t=>n.id===t.id))?.id))[0];a&&(n.wins=a.wins+1,n.time=a.time<n.time?a.time:n.time,await(0,r.aI)(n,n.id)),console.log(await(0,r.or)()),l.f.root.insertAdjacentHTML("afterbegin",await(0,c.o)(e[0],n)),await(0,r.P8)(n),d.s.disabled=!1},S=async t=>{const n=document.querySelector(`.cars-card-start.id-${t}`),e=document.querySelector(`.cars-card-stope.id-${t}`);n.disabled=!1,e.disabled=!0,(0,r.mW)(t,"stopped");const a=document.querySelector(`.car-${t}`);window.cancelAnimationFrame(o.Z.animationStorageID[+t].id),a.style.translate="0px"},$=async()=>{const t=[];for(let n=0;n<100;n++){const n={name:`${i.tr[p(i.tr.length)]} ${i.Ws[p(i.Ws.length-1)]}`,color:(0,s.j)()};t.push(n)}t.map((t=>(0,r.qC)(t))),await b(),await h();const{item:n}=await(0,r.or)();o.Z.allCars=n},L=async t=>{const n=+o.Z.winnersCount/10;if(t.classList.contains("modal-pref")&&1<o.Z.winnersPages){o.Z.winnersPages--,document.querySelector(".page").textContent=o.Z.winnersPages.toString(),document.querySelector(".table-container").innerHTML="";const{items:t}=await(0,r.ix)(o.Z.winnersPages,10,o.Z.sortby,o.Z.order);o.Z.winners=t,document.querySelector(".table-container").innerHTML=(0,u.j)()}if(t.classList.contains("modal-next")&&n>o.Z.winnersPages){document.querySelector(".table-container").innerHTML="",o.Z.winnersPages++,document.querySelector(".page").textContent=o.Z.winnersPages.toString();const{items:t}=await(0,r.ix)(o.Z.winnersPages,10,o.Z.sortby,o.Z.order);o.Z.winners=t,document.querySelector(".table-container").innerHTML=(0,u.j)()}if(t.classList.contains("win")){"ASC"===o.Z.order?o.Z.order="DESC":o.Z.order="ASC",o.Z.sortby="wins";const{items:t}=await(0,r.ix)(o.Z.winnersPages,10,o.Z.sortby,o.Z.order);o.Z.winners=t,document.querySelector(".table-container").innerHTML=(0,u.j)()}if(t.classList.contains("time")){"ASC"===o.Z.order?o.Z.order="DESC":o.Z.order="ASC",o.Z.sortby="time";const{items:t}=await(0,r.ix)(o.Z.winnersPages,10,o.Z.sortby,o.Z.order);o.Z.winners=t,document.querySelector(".table-container").innerHTML=(0,u.j)()}};a()}catch(t){a(t)}}))},796:(t,n,e)=>{e.a(t,(async(t,a)=>{try{e.d(n,{B:()=>s,j:()=>c});var r=e(543),o=e(59),i=t([r]);r=(i.then?(await i)():i)[0];const s=async t=>`\n<div class="winners_modal-container">\n<button class="close-modal-button"> Close </button>\n<h2>Winners: ${r.Z.winnersCount}</h2>\n<p class="page">Page: ${r.Z.winnersPages}</p>\n<button class="modal-pref"><=</button>\n<button class="modal-next">=></button>\n<div class="table-container">\n${t}\n</div>\n</div>\n`,c=()=>`<table>\n<tr>\n  <th>Number</th>\n  <th>Car</th>\n  <th>Model</th>\n  <th class="win">byWin</th>\n  <th class="time">time</th>\n</tr>\n${r.Z.winners.map((t=>`\n<tr>\n<td>${t.id}</td>\n<td>${(0,o.w)(r.Z.allCars.find((n=>n.id===t.id)).color,t.id)}</td>\n<td>${r.Z.allCars.find((n=>n.id===t.id))?.name}</td>\n<td>${t.wins}</td>\n<td>${t.time}s</td>\n</tr>`))}\n</table>`;a()}catch(t){a(t)}}))},607:(t,n,e)=>{e.a(t,(async(t,a)=>{try{e.d(n,{s:()=>h});var r=e(981),o=e(796),i=e(757),s=e(458),c=e(860),l=e(543),d=t([o,c,l]);[o,c,l]=d.then?(await d)():d,document.body.insertAdjacentHTML("beforeend",(0,s.c)());const u=document.createElement("button"),m=document.createElement("button"),p=document.createElement("button"),h=document.createElement("button"),w=document.createElement("div");document.body.appendChild(u),document.body.appendChild(m),document.body.appendChild(p),document.body.appendChild(h),document.body.appendChild(w),u.textContent="Create random cars",m.textContent="Start Cars",p.textContent="Reset",h.textContent="Winners",p.disabled=!0,document.body.appendChild(i.f.root),i.f.root.classList.add(i.f.className),(0,c.zy)(),h.addEventListener("click",(async()=>{const{items:t,winnersCount:n}=await(0,r.ix)(l.Z.winnersPages,10,l.Z.sortby,l.Z.order);l.Z.winners=t,l.Z.winnersCount=n,document.body.insertAdjacentHTML("afterbegin",await(0,o.B)((0,o.j)())),document.querySelector(".close-modal-button")?.addEventListener("click",(()=>{document.body.removeChild(document.querySelector(".winners_modal-container"))})),document.querySelector(".winners_modal-container")?.addEventListener("click",(async t=>{const n=t.target;(0,c.$P)(n)}))})),u.addEventListener("click",(async()=>{(0,c.Mh)()})),p.addEventListener("click",(async()=>{p.disabled=!0,l.Z.cars.map((t=>(0,c.OP)(t.id.toString()))),document.querySelector(".modal-car-winner-container").innerHTML="",m.disabled=!1})),m.addEventListener("click",(async()=>{m.disabled=!0,p.disabled=!0,h.disabled=!0,await(0,c.K5)(),p.disabled=!1})),document.querySelector(".cars-container")?.addEventListener("click",(async t=>{const n=t.target;await(0,c.UQ)(n),await(0,c.D7)(t),m.disabled=!1,p.disabled=!0})),document.querySelector(".car-post-container")?.addEventListener("submit",(async t=>{(0,c.uv)(t)})),document.querySelector(".car-put-container")?.addEventListener("submit",(t=>{(0,c.r_)(t)})),a()}catch(t){a(t)}}))}},o={};function i(t){var n=o[t];if(void 0!==n)return n.exports;var e=o[t]={exports:{}};return r[t](e,e.exports,i),e.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",n="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",e="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=t=>{t&&!t.d&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},i.a=(r,o,i)=>{var s;i&&((s=[]).d=1);var c,l,d,u=new Set,m=r.exports,p=new Promise(((t,n)=>{d=n,l=t}));p[n]=m,p[t]=t=>(s&&t(s),u.forEach(t),p.catch((t=>{}))),r.exports=p,o((r=>{var o;c=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[t])return r;if(r.then){var o=[];o.d=0,r.then((t=>{i[n]=t,a(o)}),(t=>{i[e]=t,a(o)}));var i={};return i[t]=t=>t(o),i}}var s={};return s[t]=t=>{},s[n]=r,s})))(r);var i=()=>c.map((t=>{if(t[e])throw t[e];return t[n]})),l=new Promise((n=>{(o=()=>n(i)).r=0;var e=t=>t!==s&&!u.has(t)&&(u.add(t),t&&!t.d&&(o.r++,t.push(o)));c.map((n=>n[t](e)))}));return o.r?l:i()}),(t=>(t?d(p[e]=t):l(m),a(s)))),s&&(s.d=0)},i.d=(t,n)=>{for(var e in n)i.o(n,e)&&!i.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},i.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),i(607)})();